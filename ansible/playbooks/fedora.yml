---
- name: Include a playbook for including arch specifc vars
  import_playbook: vars.yml

- name: Fedora bootstrap
  hosts:
    - "{{ hosts_to_deploy | default('local') }}"
  become: true
  pre_tasks:
    - name: Ensure python3-libdnf5 is installed
      become: true
      dnf:
        name: python3-libdnf5
        state: present
  roles:
    - pkg_mgmt/dnf
    - pkg_mgmt/flatpak
    - desktop/apps/google_chrome
    - desktop/apps/keeweb
    - apps/docker
    - apps/qemu
    - desktop/apps/terminator
    - apps/vagrant
    - apps/packer
    - desktop/gnome
    - desktop/apps/vscode
    - desktop/apps/x11docker
    - desktop/fedora
